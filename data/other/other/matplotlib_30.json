{"project": "matplotlib", "bug": 30, "project_url": "https://github.com/matplotlib/matplotlib", "file_changed": "lib/matplotlib/colors.py", "buggy_commit_id": "3b26ee6f6b31bc0cca4be0407dbb40f44756030d", "fixed_commit_id": "d4de838fe7b38abb02f061540fd93962cc063fc4", "lines_deleted": {"379": "    x = x * (N - 1)\n", "380": "    xind = (N - 1) * np.linspace(0, 1, N) ** gamma\n", "381": "    ind = np.searchsorted(x, xind)[1:-1]\n", "382": "\n", "383": "    distance = (xind[1:-1] - x[ind - 1]) / (x[ind] - x[ind - 1])\n", "384": "    lut = np.concatenate([\n", "385": "        [y1[0]],\n", "386": "        distance * (y0[ind] - y1[ind - 1]) + y1[ind - 1],\n", "387": "        [y0[-1]],\n", "388": "    ])\n"}, "lines_added": {"379": "    if N == 1:\n", "380": "        # convention: use the y = f(x=1) value for a 1-element lookup table\n", "381": "        lut = np.array(y0[-1])\n", "382": "    else:\n", "383": "        x = x * (N - 1)\n", "384": "        xind = (N - 1) * np.linspace(0, 1, N) ** gamma\n", "385": "        ind = np.searchsorted(x, xind)[1:-1]\n", "386": "\n", "387": "        distance = (xind[1:-1] - x[ind - 1]) / (x[ind] - x[ind - 1])\n", "388": "        lut = np.concatenate([\n", "389": "            [y1[0]],\n", "390": "            distance * (y0[ind] - y1[ind - 1]) + y1[ind - 1],\n", "391": "            [y0[-1]],\n", "392": "        ])\n"}}