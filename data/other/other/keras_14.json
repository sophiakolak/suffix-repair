{"project": "keras", "bug": 14, "project_url": "https://github.com/keras-team/keras", "file_changed": "keras/metrics.py", "buggy_commit_id": "98465b85d020f1326bcef7632f1261a9a7a84e92", "fixed_commit_id": "02bc5010a04bb11c8e91835cc9775c8149dec754", "lines_deleted": {"47": "    return K.mean(K.in_top_k(y_pred, K.cast(K.max(y_true, axis=-1), 'int32'), k),\n"}, "lines_added": {"47": "    # If the shape of y_true is (num_samples, 1), flatten to (num_samples,)\n", "48": "    return K.mean(K.in_top_k(y_pred, K.cast(K.flatten(y_true), 'int32'), k),\n"}}