{"project": "keras", "bug": 33, "project_url": "https://github.com/keras-team/keras", "file_changed": "keras/preprocessing/text.py", "buggy_commit_id": "1c9a49781da2101507db23e2014e4e5d16bd2e52", "fixed_commit_id": "70ad0d6e4a569701ef106058397ad0540ec08340", "lines_deleted": {"40": "    if sys.version_info < (3,) and isinstance(text, unicode):\n", "41": "        translate_map = dict((ord(c), unicode(split)) for c in filters)\n", "43": "        translate_map = maketrans(filters, split * len(filters))\n", "45": "    text = text.translate(translate_map)\n"}, "lines_added": {"40": "    if sys.version_info < (3,):\n", "41": "        if isinstance(text, unicode):\n", "42": "            translate_map = dict((ord(c), unicode(split)) for c in filters)\n", "43": "            text = text.translate(translate_map)\n", "44": "        elif len(split) == 1:\n", "45": "            translate_map = maketrans(filters, split * len(filters))\n", "46": "            text = text.translate(translate_map)\n", "47": "        else:\n", "48": "            for c in filters:\n", "49": "                text = text.replace(c, split)\n", "51": "        translate_dict = dict((c, split) for c in filters)\n", "52": "        translate_map = maketrans(translate_dict)\n", "53": "        text = text.translate(translate_map)\n"}}