{"prefix": "from __future__ import unicode_literals\n\nimport json\nimport re\nimport socket\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    compat_http_client,\n    compat_str,\n    compat_urllib_error,\n    compat_urllib_parse,\n    compat_urllib_request,\n    urlencode_postdata,\n\n    ExtractorError,\n)\n\n\nclass FacebookIE(InfoExtractor):\n    _VALID_URL = r'''(?x)\n        https?://(?:\\w+\\.)?facebook\\.com/\n", "suffix": "        (?:video/video\\.php|photo\\.php|video/embed)\\?(?:.*?)\n        (?:v|video_id)=(?P<id>[0-9]+)\n        (?:.*)'''\n    _LOGIN_URL = 'https://www.facebook.com/login.php?next=http%3A%2F%2Ffacebook.com%2Fhome.php&login_attempt=1'\n    _CHECKPOINT_URL = 'https://www.facebook.com/checkpoint/?next=http%3A%2F%2Ffacebook.com%2Fhome.php&_fb_noscript=1'\n    _NETRC_MACHINE = 'facebook'\n    IE_NAME = 'facebook'\n    _TEST = {\n        'url': 'https://www.facebook.com/photo.php?v=120708114770723',\n        'md5': '48975a41ccc4b7a581abd68651c1a5a8',\n        'info_dict': {\n            'id': '120708114770723',\n            'ext': 'mp4',\n            'duration': 279,\n            'title': 'PEOPLE ARE AWESOME 2013',\n        }\n    }\n\n    def _login(self):\n        (useremail, password) = self._get_login_info()\n        if useremail is None:\n            return\n\n        login_page_req = compat_urllib_request.Request(self._LOGIN_URL)\n        login_page_req.add_header('Cookie', 'locale=en_US')\n        login_page = self._download_webpage(login_page_req, None,\n            note='Downloading login page',\n            errnote='Unable to download login page')\n        lsd = self._search_regex(\n            r'<input type=\"hidden\" name=\"lsd\" value=\"([^\"]*)\"',\n            login_page, 'lsd')\n        lgnrnd = self._search_regex(r'name=\"lgnrnd\" value=\"([^\"]*?)\"', login_page, 'lgnrnd')\n\n        login_form = {\n            'email': useremail,\n            'pass': password,\n            'lsd': lsd,\n            'lgnrnd': lgnrnd,\n            'next': 'http://facebook.com/home.php',\n            'default_persistent': '0',\n", "long_prefix": ["from __future__ import unicode_literals\n\nimport json\nimport re\nimport socket\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    compat_http_client,\n    compat_str,\n    compat_urllib_error,\n    compat_urllib_parse,\n    compat_urllib_request,\n    urlencode_postdata,\n\n    ExtractorError,\n)\n\n\nclass FacebookIE(InfoExtractor):\n    _VALID_URL = r'''(?x)\n        https?://(?:\\w+\\.)?facebook\\.com/\n", "        (?:video/video\\.php|photo\\.php|video/embed)\\?(?:.*?)\n        (?:v|video_id)=(?P<id>[0-9]+)\n        (?:.*)'''\n    _LOGIN_URL = 'https://www.facebook.com/login.php?next=http%3A%2F%2Ffacebook.com%2Fhome.php&login_attempt=1'\n    _CHECKPOINT_URL = 'https://www.facebook.com/checkpoint/?next=http%3A%2F%2Ffacebook.com%2Fhome.php&_fb_noscript=1'\n    _NETRC_MACHINE = 'facebook'\n    IE_NAME = 'facebook'\n    _TEST = {\n        'url': 'https://www.facebook.com/photo.php?v=120708114770723',\n        'md5': '48975a41ccc4b7a581abd68651c1a5a8',\n        'info_dict': {\n            'id': '120708114770723',\n            'ext': 'mp4',\n            'duration': 279,\n            'title': 'PEOPLE ARE AWESOME 2013',\n        }\n    }\n\n    def _login(self):\n        (useremail, password) = self._get_login_info()\n        if useremail is None:\n            return\n\n        login_page_req = compat_urllib_request.Request(self._LOGIN_URL)\n        login_page_req.add_header('Cookie', 'locale=en_US')\n        login_page = self._download_webpage(login_page_req, None,\n            note='Downloading login page',\n            errnote='Unable to download login page')\n        lsd = self._search_regex(\n            r'<input type=\"hidden\" name=\"lsd\" value=\"([^\"]*)\"',\n            login_page, 'lsd')\n        lgnrnd = self._search_regex(r'name=\"lgnrnd\" value=\"([^\"]*?)\"', login_page, 'lgnrnd')\n\n        login_form = {\n            'email': useremail,\n            'pass': password,\n            'lsd': lsd,\n            'lgnrnd': lgnrnd,\n            'next': 'http://facebook.com/home.php',\n            'default_persistent': '0',\n"]}